(this["webpackJsonploop-machine"]=this["webpackJsonploop-machine"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},45:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(14),s=c.n(i),o=(c(40),c(4)),r=(c(41),c(7)),u=c.n(r),b=c(12),l=c(23),j=c(5),d=Object(j.b)({key:"loopStartState",default:!1}),O=Object(j.b)({key:"playAllState",default:!1}),f=Object(j.b)({key:"playRecordState",default:!1}),m=Object(j.b)({key:"recordState",default:!1}),p=Object(j.b)({key:"recordObjectState",default:[]}),x=Object(j.b)({key:"startTimeState",default:null}),y=Object(j.b)({key:"endTimeState",default:null}),h=Object(j.b)({key:"speedState",default:1}),v=(c(43),c(3));var S=function(e){var t=e.beat,c=e.index,n=e.recordObject,i=t.audio,s=t.icon,r=Object(a.useState)(!1),S=Object(o.a)(r,2),N=S[0],k=S[1],D=Object(a.useState)(!1),w=Object(o.a)(D,2),g=w[0],_=w[1],C=Object(j.c)(x),E=Object(o.a)(C,2),R=E[0],T=E[1],B=Object(j.d)(y),M=Object(j.e)(p),P=Object(j.d)(d),A=Object(j.d)(O),L=Object(j.d)(m),G=Object(j.d)(h),J=Object(j.c)(f),V=Object(o.a)(J,2),W=V[0],z=V[1],F=Object(a.useRef)(null),I=Object(a.useRef)(null);Object(a.useEffect)((function(){Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P||L||W?N?R&&0!==R?0===G?(F.current.play(),L&&M((function(e){return[].concat(Object(b.a)(e),[{time:new Date-R,index:c,type:"check"}])}))):(t=1/G*8e3-(Number(new Date)-R)%8e3*(1/G),_("on"),L&&M((function(e){return[].concat(Object(b.a)(e),[{time:new Date-R,index:c,type:"check"}])})),setTimeout((function(){_(!0)}),t)):(F.current.play(),T(Number(new Date)),L&&M([{time:0,index:c,type:"start"}])):(L&&R&&M((function(e){return[].concat(Object(b.a)(e),[{time:new Date-R,index:c,type:"pause"}])})),F.current.pause()):(T(null),k(!1),_(!1),F.current.pause(),F.current.currentTime=0);case 1:case"end":return e.stop()}}),e)})))()}),[N,P,L,W]),Object(a.useEffect)((function(){!0===g&&N&&(F.current.play(),L&&M((function(e){return[].concat(Object(b.a)(e),[{time:new Date-R,index:c,type:"play"}])})))}),[g]),Object(a.useEffect)((function(){A?F.current.play():W?(T(0),setTimeout((function(){z(!1)}),B)):W||(k(!1),F.current.pause(),F.current.currentTime=0)}),[A,W]),Object(a.useEffect)((function(){0===R&&n.filter((function(e){return e.index===c})).forEach((function(e){e.index===c&&("start"===e.type?k(!0):"check"===e.type?setTimeout((function(){k(!0)}),e.time):"pause"===e.type&&setTimeout((function(){k(!1)}),e.time))}))}),[R]);var U=Object(a.useCallback)((function(){A||!P&&!L||k((function(e){return!e}))}),[A,P,L]);return I.current&&(F.current.playbackRate=0!==G?G:1,I.current.style.boxShadow="on"===g?"0 0 10px 10px #eff, 0 0 15px 15px yellow":N&&(P||L||W)||A?"0 0 10px 10px #eff, 0 0 15px 15px green":"0 0 10px 10px #eff, 0 0 12px 12px #0ff",I.current.style.backgroundColor=N&&(P||L||W)||A?"#777":"#444"),Object(v.jsx)("div",{className:"beat",ref:I,children:Object(v.jsxs)("div",{className:"miniBeatStyle",onClick:U,children:[Object(v.jsx)("audio",{ref:F,src:i,loop:!0}),s]})})},N=c(11),k=c(30),D=c(32),w=(c(45),c(26)),g=c(65),_=Object(w.a)({root:{color:"white"},thumb:{backgroundColor:"white",color:"white"},valueLabel:{"& *":{background:"white",color:"#000",fontWeight:"bold"}},active:{},track:{height:5},rail:{height:5,borderRadius:4}})(g.a);var C=function(e){var t=e.setRecordObject,c=Object(a.useState)(1),n=Object(o.a)(c,2),i=n[0],s=n[1],r=Object(j.c)(O),u=Object(o.a)(r,2),b=u[0],l=u[1],S=Object(j.c)(d),w=Object(o.a)(S,2),g=w[0],C=w[1],E=Object(j.d)(x),R=Object(j.e)(y),T=Object(j.e)(h),B=Object(j.c)(f),M=Object(o.a)(B,2),P=M[0],A=M[1],L=Object(j.c)(m),G=Object(o.a)(L,2),J=G[0],V=G[1],W=Object(j.d)(p),z=function(){T(i),t(W),!g&&!b&&!J&&A((function(e){return!e}))};return Object(v.jsxs)("div",{className:"controllerStyle",children:[Object(v.jsxs)("div",{className:"icons",children:[Object(v.jsxs)("div",{className:b||J||P?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){T(i),!J&&!b&&!P&&C((function(e){return!e}))},children:[!g&&Object(v.jsx)(N.b,{className:"iconStyle"}),g&&!b&&!J&&Object(v.jsx)(N.d,{className:"iconStyle"})]}),Object(v.jsxs)("div",{className:g||J||P?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){T(i),!g&&!J&&!P&&l((function(e){return!e}))},children:[!b&&Object(v.jsx)(D.a,{className:"iconStyle"}),b&&!g&&!J&&Object(v.jsx)(N.d,{className:"iconStyle"})]}),Object(v.jsx)("div",{className:J?"iconsDivRecordStyle":g||b||P?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){T(i),!g&&!b&&!P&&V((function(e){return!e})),J&&R(new Date-E)},children:Object(v.jsx)(N.c,{className:"iconStyle"})}),Object(v.jsx)("div",{className:!b&&!g&&!J&&W.length>0?"iconsDivStyle":"iconsDivDisabledStyle",children:P?Object(v.jsx)(k.b,{className:"iconStyle",onClick:z}):Object(v.jsx)(k.a,{className:"iconStyle",onClick:z})})]}),Object(v.jsx)(_,{className:"slider",defaultValue:1,onChange:function(e,t){return s(t)},valueLabelDisplay:"auto",step:.25,min:0,max:2,disabled:!!(g||b||J||P)})]})},E=c.p+"static/media/future_funk_beats_25.5eb417fc.mp3",R=c.p+"static/media/120_stutter_breakbeats_16.37c82282.mp3",T=c.p+"static/media/Bass Warwick heavy funk groove on E 120 BPM.52c24c81.mp3",B=c.p+"static/media/electric guitar coutry slide 120bpm - B.230fcab8.mp3",M=c.p+"static/media/FUD_120_StompySlosh.27bdc145.mp3",P=c.p+"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3",A=c.p+"static/media/MazePolitics_120_Perc.2d08c654.mp3",L=c.p+"static/media/PAS3GROOVE1.03B.f77c6da4.mp3",G=c.p+"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3",J=c(13),V=c(33),W=[{audio:E,icon:Object(v.jsx)(J.a,{className:"icon"})},{audio:R,icon:Object(v.jsx)(N.a,{className:"icon"})},{audio:T,icon:Object(v.jsx)(J.d,{className:"icon"})},{audio:B,icon:Object(v.jsx)(J.c,{className:"icon"})},{audio:M,icon:Object(v.jsx)(J.b,{className:"icon"})},{audio:P,icon:Object(v.jsx)(J.g,{className:"icon"})},{audio:A,icon:Object(v.jsx)(J.e,{className:"icon"})},{audio:L,icon:Object(v.jsx)(V.a,{className:"icon"})},{audio:G,icon:Object(v.jsx)(J.f,{className:"icon"})}];var z=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"loop-machine",children:W.map((function(e,t){return Object(v.jsx)(S,{beat:e,index:t,recordObject:c},t)}))}),Object(v.jsx)(C,{setRecordObject:n})]})};c(50);var F=function(){return Object(v.jsx)("div",{className:"header",children:"Loop Machine"})};var I=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(F,{}),Object(v.jsx)(z,{})]})};s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(I,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.3ecaac07.chunk.js.map