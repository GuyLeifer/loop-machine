(this["webpackJsonploop-machine"]=this["webpackJsonploop-machine"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},27:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(11),s=c.n(i),o=(c(24),c(3)),r=(c(25),c(5)),u=c.n(r),j=c(9),b=c(15),l=c(4),d=(Object(l.b)({key:"widthState",default:!1}),Object(l.b)({key:"loopStartState",default:!1})),O=Object(l.b)({key:"playAllState",default:!1}),f=Object(l.b)({key:"playRecordState",default:!1}),m=Object(l.b)({key:"recordState",default:!1}),p=Object(l.b)({key:"recordObjectState",default:[]}),x=Object(l.b)({key:"startTimeState",default:null}),y=Object(l.b)({key:"endTimeState",default:null}),S=(c(27),c(2));var v=function(e){var t=e.beat,c=e.index,a=e.recordObject,i=t.audio,s=t.icon,r=Object(n.useState)(!1),v=Object(o.a)(r,2),h=v[0],N=v[1],k=Object(n.useState)(!1),D=Object(o.a)(k,2),_=D[0],w=D[1],g=Object(l.c)(x),E=Object(o.a)(g,2),T=E[0],C=E[1],B=Object(l.d)(y),R=Object(l.e)(p),M=Object(l.d)(d),P=Object(l.d)(O),A=Object(l.d)(m),G=Object(l.c)(f),J=Object(o.a)(G,2),z=J[0],F=J[1],I=Object(n.useRef)(null),L=Object(n.useRef)(null);Object(n.useEffect)((function(){Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M||A||z?h?T&&0!==T?(t=8e3-(Number(new Date)-T)%8e3,w("on"),A&&R((function(e){return[].concat(Object(j.a)(e),[{time:new Date-T,index:c,type:"check"}])})),setTimeout((function(){w(!0)}),t)):(I.current.play(),C(Number(new Date)),A&&R([{time:0,index:c,type:"start"}])):(A&&T&&R((function(e){return[].concat(Object(j.a)(e),[{time:new Date-T,index:c,type:"pause"}])})),I.current.pause()):(C(null),N(!1),w(!1),I.current.pause(),I.current.currentTime=0);case 1:case"end":return e.stop()}}),e)})))()}),[h,M,A,z]),Object(n.useEffect)((function(){!0===_&&h&&(I.current.play(),A&&R((function(e){return[].concat(Object(j.a)(e),[{time:new Date-T,index:c,type:"play"}])})))}),[_]),Object(n.useEffect)((function(){P?I.current.play():z?(C(0),setTimeout((function(){F(!1)}),B)):z||(N(!1),I.current.pause(),I.current.currentTime=0)}),[P,z]),Object(n.useEffect)((function(){0===T&&a.filter((function(e){return e.index===c})).forEach((function(e){e.index===c&&("start"===e.type?N(!0):"check"===e.type?setTimeout((function(){N(!0)}),e.time):"pause"===e.type&&setTimeout((function(){N(!1)}),e.time))}))}),[T]);var U=Object(n.useCallback)((function(){P||!M&&!A||N((function(e){return!e}))}),[P,M,A]);return L.current&&(L.current.style.boxShadow="on"===_?"0 0 10px 10px #eff, 0 0 15px 15px yellow":h&&(M||A||z)||P?"0 0 10px 10px #eff, 0 0 15px 15px green":"0 0 10px 10px #eff, 0 0 12px 12px #0ff",L.current.style.backgroundColor=h&&(M||A||z)||P?"#777":"#444"),Object(S.jsx)("div",{className:"beat",ref:L,children:Object(S.jsxs)("div",{className:"miniBeatStyle",onClick:U,children:[Object(S.jsx)("audio",{ref:I,src:i,loop:!0}),s]})})},h=c(7),N=c(17),k=c(18);c(29);var D=function(e){var t=e.setRecordObject,c=Object(l.c)(O),n=Object(o.a)(c,2),a=n[0],i=n[1],s=Object(l.c)(d),r=Object(o.a)(s,2),u=r[0],j=r[1],b=Object(l.d)(x),v=Object(l.e)(y),D=Object(l.c)(f),_=Object(o.a)(D,2),w=_[0],g=_[1],E=Object(l.c)(m),T=Object(o.a)(E,2),C=T[0],B=T[1],R=Object(l.d)(p);return Object(S.jsxs)("div",{className:"controllerStyle",children:[Object(S.jsxs)("div",{className:a||C||w?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){!C&&!a&&!w&&j((function(e){return!e}))},children:[!u&&Object(S.jsx)(h.b,{className:"iconStyle"}),u&&!a&&!C&&Object(S.jsx)(h.d,{className:"iconStyle"})]}),Object(S.jsxs)("div",{className:u||C||w?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){!u&&!C&&!w&&i((function(e){return!e}))},children:[!a&&Object(S.jsx)(k.a,{className:"iconStyle"}),a&&!u&&!C&&Object(S.jsx)(h.d,{className:"iconStyle"})]}),Object(S.jsx)("div",{className:C?"iconsDivRecordStyle":u||a||w?"iconsDivDisabledStyle":"iconsDivStyle",onClick:function(){!u&&!a&&!w&&B((function(e){return!e})),C&&v(new Date-b)},children:Object(S.jsx)(h.c,{className:"iconStyle"})}),Object(S.jsx)("div",{className:!a&&!u&&!C&&R.length>0?"iconsDivStyle":"iconsDivDisabledStyle",children:w?Object(S.jsx)(N.b,{className:"iconStyle",onClick:function(){return g(!1)}}):Object(S.jsx)(N.a,{className:"iconStyle",onClick:function(){t(R),g(!0)}})})]})},_=c.p+"static/media/future_funk_beats_25.5eb417fc.mp3",w=c.p+"static/media/120_stutter_breakbeats_16.37c82282.mp3",g=c.p+"static/media/Bass Warwick heavy funk groove on E 120 BPM.52c24c81.mp3",E=c.p+"static/media/electric guitar coutry slide 120bpm - B.230fcab8.mp3",T=c.p+"static/media/FUD_120_StompySlosh.27bdc145.mp3",C=c.p+"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3",B=c.p+"static/media/MazePolitics_120_Perc.2d08c654.mp3",R=c.p+"static/media/PAS3GROOVE1.03B.f77c6da4.mp3",M=c.p+"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3",P=c(8),A=c(19),G=[{audio:_,icon:Object(S.jsx)(P.a,{className:"icon"})},{audio:w,icon:Object(S.jsx)(h.a,{className:"icon"})},{audio:g,icon:Object(S.jsx)(P.d,{className:"icon"})},{audio:E,icon:Object(S.jsx)(P.c,{className:"icon"})},{audio:T,icon:Object(S.jsx)(P.b,{className:"icon"})},{audio:C,icon:Object(S.jsx)(P.g,{className:"icon"})},{audio:B,icon:Object(S.jsx)(P.e,{className:"icon"})},{audio:R,icon:Object(S.jsx)(A.a,{className:"icon"})},{audio:M,icon:Object(S.jsx)(P.f,{className:"icon"})}];var J=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("div",{className:"loop-machine",children:G.map((function(e,t){return Object(S.jsx)(v,{beat:e,index:t,recordObject:c},t)}))}),Object(S.jsx)(D,{setRecordObject:a})]})};c(30);var z=function(){return Object(S.jsx)("div",{className:"header",children:"Loop Machine"})};var F=function(){return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(z,{}),Object(S.jsx)(J,{})]})};s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(l.a,{children:Object(S.jsx)(F,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.03fc00eb.chunk.js.map